<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />



<title>SQL_comorbidity</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">SQL_comorbidity</h1>


<div id="TOC">
<ul>
<li><a href="#arguments-utilisés"><span class="toc-section-number">1</span> Arguments utilisés</a></li>
<li><a href="#arrangement-de-la-table"><span class="toc-section-number">2</span> Arrangement de la table</a></li>
<li><a href="#sélection-des-codes-de-diagnostics"><span class="toc-section-number">3</span> Sélection des codes de diagnostics</a>
<ul>
<li><a href="#dx_table-combine_dx_cci_inspq18"><span class="toc-section-number">3.1</span> Dx_table = ‘Combine_Dx_CCI_INSPQ18’</a></li>
<li><a href="#exclu_diagn-cdrug-ld"><span class="toc-section-number">3.2</span> exclu_diagn = c(‘drug’, ‘ld’)</a></li>
<li><a href="#cim-ccim9-cim10"><span class="toc-section-number">3.3</span> CIM = c(‘CIM9’, ‘CIM10’)</a></li>
</ul></li>
<li><a href="#sources-sql-dt_source"><span class="toc-section-number">4</span> Sources SQL (<code>dt_source</code>)</a>
<ul>
<li><a href="#v_diagn_sej_hosp_cm"><span class="toc-section-number">4.1</span> V_DIAGN_SEJ_HOSP_CM</a></li>
<li><a href="#v_sej_serv_hosp_cm"><span class="toc-section-number">4.2</span> V_SEJ_SERV_HOSP_CM</a></li>
<li><a href="#v_episo_soin_durg_cm"><span class="toc-section-number">4.3</span> V_EPISO_SOIN_DURG_CM</a></li>
<li><a href="#i_smod_serv_md_cm"><span class="toc-section-number">4.4</span> I_SMOD_SERV_MD_CM</a></li>
</ul></li>
<li><a href="#filtrer-les-diagnostics-incohérents"><span class="toc-section-number">5</span> Filtrer les diagnostics <em>incohérents</em></a></li>
<li><a href="#exclusions-cas-obstétriques-obstetric_exclutrue"><span class="toc-section-number">6</span> Exclusions Cas Obstétriques (<code>obstetric_exclu=TRUE</code>)</a>
<ul>
<li><a href="#codes-de-diagnostics-de-type-gestationnel"><span class="toc-section-number">6.1</span> Codes de diagnostics de type gestationnel</a></li>
</ul></li>
<li><a href="#priorisation-des-sources"><span class="toc-section-number">7</span> Priorisation des sources</a></li>
<li><a href="#dx-date_dx---lookup"><span class="toc-section-number">8</span> Dx &lt; DATE_DX <span class="math inline">\(-\)</span> lookup</a></li>
<li><a href="#confirmation-des-diagnostics"><span class="toc-section-number">9</span> Confirmation des diagnostics</a>
<ul>
<li><a href="#medecho-1"><span class="toc-section-number">9.1</span> MEDECHO (1)</a></li>
<li><a href="#bdcu-et-smod-2"><span class="toc-section-number">9.2</span> BDCU et SMOD (2)</a></li>
<li><a href="#medecho-1-bdcu-2-et-smod-2"><span class="toc-section-number">9.3</span> MEDECHO (1), BDCU (2) et SMOD (2)</a></li>
</ul></li>
<li><a href="#poids-des-diagnostics"><span class="toc-section-number">10</span> Poids des diagnostics</a></li>
<li><a href="#nombre-de-diagnostics-dx"><span class="toc-section-number">11</span> Nombre de diagnostics (Dx)</a></li>
<li><a href="#calcul-des-scores"><span class="toc-section-number">12</span> Calcul des <em>scores</em></a></li>
<li><a href="#ajouts-des-individus-manquants"><span class="toc-section-number">13</span> Ajouts des individus manquants</a></li>
</ul>
</div>

<div id="arguments-utilisés" class="section level1" number="1">
<h1 number="1"><span class="header-section-number">1</span> Arguments utilisés</h1>
<p>Liste des arguments utilisés pour les exemples.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>ID <span class="ot">=</span> <span class="st">&#39;ID&#39;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>DATE_INDEX <span class="ot">=</span> <span class="st">&#39;DATE_INDEX&#39;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>Dx_table <span class="ot">=</span> <span class="st">&#39;Combine_Dx_CCI_INSPQ18&#39;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>CIM <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;CIM9&#39;</span>, <span class="st">&#39;CIM10&#39;</span>)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>scores <span class="ot">=</span> <span class="st">&#39;CCI_INSPQ_2018_CIM10&#39;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>lookup <span class="ot">=</span> <span class="dv">2</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>n1 <span class="ot">=</span> <span class="dv">30</span>; n2 <span class="ot">=</span> <span class="dv">730</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>dt_source <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;V_DIAGN_SEJ_HOSP_CM&#39;</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;V_SEJ_SERV_HOSP_CM&#39;</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;V_EPISO_SOIN_DURG_CM&#39;</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>              <span class="st">&#39;I_SMOD_SERV_MD_CM&#39;</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>dt_desc <span class="ot">=</span> <span class="fu">list</span>(<span class="at">V_DIAGN_SEJ_HOSP_CM =</span> <span class="st">&#39;MEDECHO&#39;</span>,</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>               <span class="at">V_SEJ_SERV_HOSP_CM =</span> <span class="st">&#39;MEDECHO&#39;</span>,</span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>               <span class="at">V_EPISO_SOIN_DURG_CM =</span> <span class="st">&#39;BDCU&#39;</span>,</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>               <span class="at">I_SMOD_SERV_MD_CM =</span> <span class="st">&#39;SMOD&#39;</span>)</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>confirm_sourc <span class="ot">=</span> <span class="fu">list</span>(<span class="at">MEDECHO =</span> <span class="dv">1</span>,</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>                     <span class="at">BDCU =</span> <span class="dv">2</span>,</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>                     <span class="at">SMOD =</span> <span class="dv">2</span>)</span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>obstetric_exclu <span class="ot">=</span> <span class="cn">TRUE</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>exclu_diagn <span class="ot">=</span> <span class="fu">c</span>(<span class="st">&#39;drug&#39;</span>, <span class="st">&#39;ld&#39;</span>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>keep_confirm_data <span class="ot">=</span> <span class="cn">TRUE</span></span></code></pre></div>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="arrangement-de-la-table" class="section level1" number="2">
<h1 number="2"><span class="header-section-number">2</span> Arrangement de la table</h1>
<ul>
<li>Sélectionner les colonnes nécessaires.</li>
<li>Sélectionner la première date de référence (la plus ancienne) s’il y en a plusieurs pour un même individu.</li>
<li>Supprimer les observations où le numéro d’identification ou la date de référence sont absents.</li>
</ul>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID DATE_INDEX SEXE AGE
#&gt; 1:  1 2020-01-01    F  55
#&gt; 2:  1 2020-02-07    F  55
#&gt; 3:  2 2020-12-31    M  41
#&gt; 4:  3 2020-02-14 &lt;NA&gt;  NA
#&gt; 5:  4       &lt;NA&gt;    F  45
#&gt; 6: NA 2020-03-07    F  69
#&gt; 7: NA       &lt;NA&gt;    M  81</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID DATE_INDEX
#&gt; 1:  1 2020-01-01
#&gt; 2:  2 2020-12-31
#&gt; 3:  3 2020-02-14</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="sélection-des-codes-de-diagnostics" class="section level1" number="3">
<h1 number="3"><span class="header-section-number">3</span> Sélection des codes de diagnostics</h1>
<div id="dx_table-combine_dx_cci_inspq18" class="section level2" number="3.1">
<h2 number="3.1"><span class="header-section-number">3.1</span> Dx_table = ‘Combine_Dx_CCI_INSPQ18’</h2>
<p>Indique le nom de la table à utiliser contenant les codes CIM9 et CIM10. Voici un aperçu des trois premiers éléments :</p>
<pre><code>#&gt; $aids
#&gt; $aids$CIM9
#&gt; [1] &quot;042%&quot; &quot;043%&quot; &quot;044%&quot;
#&gt; 
#&gt; $aids$CIM10
#&gt; [1] &quot;B20%&quot; &quot;B21%&quot; &quot;B22%&quot; &quot;B23%&quot; &quot;B24%&quot;
#&gt; 
#&gt; 
#&gt; $alcohol
#&gt; $alcohol$CIM9
#&gt;  [1] &quot;2652%&quot; &quot;2911%&quot; &quot;2912%&quot; &quot;2913%&quot; &quot;2915%&quot; &quot;2916%&quot; &quot;2917%&quot; &quot;2918%&quot; &quot;2919%&quot; &quot;303%&quot;  &quot;3050%&quot; &quot;3575%&quot; &quot;4255%&quot; &quot;5353%&quot;
#&gt; [15] &quot;5710%&quot; &quot;5711%&quot; &quot;5712%&quot; &quot;5713%&quot; &quot;980%&quot; 
#&gt; 
#&gt; $alcohol$CIM10
#&gt;  [1] &quot;F10%&quot;  &quot;E52%&quot;  &quot;G621%&quot; &quot;I426%&quot; &quot;K292%&quot; &quot;K700%&quot; &quot;K703%&quot; &quot;K709%&quot; &quot;T51%&quot;  &quot;Z502%&quot; &quot;Z714%&quot; &quot;Z721%&quot;
#&gt; 
#&gt; 
#&gt; $blane
#&gt; $blane$CIM9
#&gt; [1] &quot;28090%&quot;
#&gt; 
#&gt; $blane$CIM10
#&gt; [1] &quot;D500%&quot;</code></pre>
</div>
<div id="exclu_diagn-cdrug-ld" class="section level2" number="3.2">
<h2 number="3.2"><span class="header-section-number">3.2</span> exclu_diagn = c(‘drug’, ‘ld’)</h2>
<p>Implique que les codes de diagnostics <code>drug</code> et <code>ld</code> seront exclus de l’analyse.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;  [1] &quot;aids&quot;     &quot;alcohol&quot;  &quot;blane&quot;    &quot;canc&quot;     &quot;carit&quot;    &quot;cevd&quot;     &quot;chf&quot;      &quot;coag&quot;     &quot;copd&quot;     &quot;dane&quot;    
#&gt; [11] &quot;dementia&quot; &quot;depre&quot;    &quot;diab&quot;     &quot;diabwc&quot;   &quot;drug&quot;     &quot;fed&quot;      &quot;hyp&quot;      &quot;hypothy&quot;  &quot;ld&quot;       &quot;metacanc&quot;
#&gt; [21] &quot;mi&quot;       &quot;nd&quot;       &quot;obes&quot;     &quot;para&quot;     &quot;pcd&quot;      &quot;psycho&quot;   &quot;pvd&quot;      &quot;rend&quot;     &quot;rheumd&quot;   &quot;ud&quot;      
#&gt; [31] &quot;valv&quot;     &quot;wloss&quot;</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;  [1] &quot;aids&quot;     &quot;alcohol&quot;  &quot;blane&quot;    &quot;canc&quot;     &quot;carit&quot;    &quot;cevd&quot;     &quot;chf&quot;      &quot;coag&quot;     &quot;copd&quot;     &quot;dane&quot;    
#&gt; [11] &quot;dementia&quot; &quot;depre&quot;    &quot;diab&quot;     &quot;diabwc&quot;   &quot;fed&quot;      &quot;hyp&quot;      &quot;hypothy&quot;  &quot;metacanc&quot; &quot;mi&quot;       &quot;nd&quot;      
#&gt; [21] &quot;obes&quot;     &quot;para&quot;     &quot;pcd&quot;      &quot;psycho&quot;   &quot;pvd&quot;      &quot;rend&quot;     &quot;rheumd&quot;   &quot;ud&quot;       &quot;valv&quot;     &quot;wloss&quot;</code></pre>
</div>
<div id="cim-ccim9-cim10" class="section level2" number="3.3">
<h2 number="3.3"><span class="header-section-number">3.3</span> CIM = c(‘CIM9’, ‘CIM10’)</h2>
<p>Il est possible de choisir entre les codes CIM9, CIM10 ou les deux. Ici on sélectionne les deux types de codes et on va les chercher dans toutes les bases de données <code>dt_source</code>. Voici un aperçu des codes recherchés des trois premiers éléments :</p>
<pre><code>#&gt; $aids
#&gt; [1] &quot;042%&quot; &quot;043%&quot; &quot;044%&quot; &quot;B20%&quot; &quot;B21%&quot; &quot;B22%&quot; &quot;B23%&quot; &quot;B24%&quot;
#&gt; 
#&gt; $alcohol
#&gt;  [1] &quot;2652%&quot; &quot;2911%&quot; &quot;2912%&quot; &quot;2913%&quot; &quot;2915%&quot; &quot;2916%&quot; &quot;2917%&quot; &quot;2918%&quot; &quot;2919%&quot; &quot;303%&quot;  &quot;3050%&quot; &quot;3575%&quot; &quot;4255%&quot; &quot;5353%&quot;
#&gt; [15] &quot;5710%&quot; &quot;5711%&quot; &quot;5712%&quot; &quot;5713%&quot; &quot;980%&quot;  &quot;F10%&quot;  &quot;E52%&quot;  &quot;G621%&quot; &quot;I426%&quot; &quot;K292%&quot; &quot;K700%&quot; &quot;K703%&quot; &quot;K709%&quot; &quot;T51%&quot; 
#&gt; [29] &quot;Z502%&quot; &quot;Z714%&quot; &quot;Z721%&quot;
#&gt; 
#&gt; $blane
#&gt; [1] &quot;28090%&quot; &quot;D500%&quot;</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
</div>
<div id="sources-sql-dt_source" class="section level1" number="4">
<h1 number="4"><span class="header-section-number">4</span> Sources SQL (<code>dt_source</code>)</h1>
<p>Extraction des données pour chaque code de diagnostic médical clinique de la table <code>Dx_table</code> et pour chaque source <code>dt_source</code>.</p>
<div id="v_diagn_sej_hosp_cm" class="section level2" number="4.1">
<h2 number="4.1"><span class="header-section-number">4.1</span> V_DIAGN_SEJ_HOSP_CM</h2>
<p>Cette structure contient tous les diagnostics associés à un séjour hospitalier.</p>
<ul>
<li><code>SHOP_NO_INDIV_BEN_BANLS</code> : Numéro identifiant de manière unique une personne physique qui est un bénéficiaire du service.</li>
<li><code>SHOP_DAT_DEPAR_SEJ_HOSP</code> : Date où l’usager quitte l’installation vivant ou décédé.</li>
<li><code>SHOP_COD_DIAGN_MDCAL_CLINQ</code> : Code de diagnostic médical clinique. Pour un système de classification donné, chacun des diagnostics définis selon la terminologie ou la codification de la Classification Internationale des Maladies.</li>
<li><code>SHOP_TYP_DIAGN_SEJ_HOSP</code> : Le type de diagnostic permet de préciser le genre de diagnostic posé pendant le séjour hospitalier.
<ul>
<li><code>A</code> : Admission.</li>
<li><code>P</code> : Principal.</li>
<li><code>S</code> : Secondaire.</li>
</ul></li>
</ul>
<p><strong>Si date_dx_var = ‘admis’</strong> :</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SHOP_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>       SHOP_DAT_ADMIS_SEJ_HOSP <span class="kw">as</span> DATE_DX</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_DIAGN_SEJ_HOSP_CM</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SHOP_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_DAT_ADMIS_SEJ_HOSP <span class="kw">between</span> <span class="st">&#39;debut&#39;</span> <span class="kw">and</span> <span class="st">&#39;fin&#39;</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_TYP_DIAGN_SEJ_HOSP <span class="kw">in</span> c(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;P&#39;</span>, <span class="st">&#39;S&#39;</span>);</span></code></pre></div>
<p><strong>Si date_dx_var = ‘depar’</strong> :</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SHOP_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>       SHOP_DAT_DEPAR_SEJ_HOSP <span class="kw">as</span> DATE_DX</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_DIAGN_SEJ_HOSP_CM</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SHOP_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_DAT_DEPAR_SEJ_HOSP <span class="kw">between</span> <span class="st">&#39;debut&#39;</span> <span class="kw">and</span> <span class="st">&#39;fin&#39;</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_TYP_DIAGN_SEJ_HOSP <span class="kw">in</span> c(<span class="st">&#39;A&#39;</span>, <span class="st">&#39;P&#39;</span>, <span class="st">&#39;S&#39;</span>);</span></code></pre></div>
</div>
<div id="v_sej_serv_hosp_cm" class="section level2" number="4.2">
<h2 number="4.2"><span class="header-section-number">4.2</span> V_SEJ_SERV_HOSP_CM</h2>
<p>Cette structure contient les séjours dans un service effectués par l’individu hospitalisé.</p>
<ul>
<li><code>SHOP_NO_INDIV_BEN_BANLS</code> : Numéro identifiant de manière unique une personne physique qui est un bénéficiaire du service.</li>
<li><code>SHOP_DAT_DEPAR_SEJ_HOSP</code> : Date où l’usager quitte l’installation vivant ou décédé.</li>
<li><code>SHOP_COD_DIAGN_MDCAL_CLINQ</code> : Code de diagnostic médical clinique. Pour un système de classification donné, chacun des diagnostics définis selon la terminologie ou la codification de la Classification Internationale des Maladies.</li>
</ul>
<p><strong>Si date_dx_var = ‘admis’</strong> :</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SHOP_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>       SHOP_DAT_ADMIS_SEJ_HOSP <span class="kw">as</span> DATE_DX</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_SEJ_SERV_HOSP_CM</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SHOP_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_DAT_ADMIS_SEJ_HOSP <span class="kw">between</span> <span class="st">&#39;debut&#39;</span> <span class="kw">and</span> <span class="st">&#39;fin&#39;</span>;</span></code></pre></div>
<p><strong>Si date_dx_var = ‘depar’</strong> :</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SHOP_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>       SHOP_DAT_DEPAR_SEJ_HOSP <span class="kw">as</span> DATE_DX</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_SEJ_SERV_HOSP_CM</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SHOP_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SHOP_DAT_DEPAR_SEJ_HOSP <span class="kw">between</span> <span class="st">&#39;debut&#39;</span> <span class="kw">and</span> <span class="st">&#39;fin&#39;</span>;</span></code></pre></div>
</div>
<div id="v_episo_soin_durg_cm" class="section level2" number="4.3">
<h2 number="4.3"><span class="header-section-number">4.3</span> V_EPISO_SOIN_DURG_CM</h2>
<p>Cette structure contient les épisodes de soins des départements d’urgence de la province.</p>
<ul>
<li><code>SURG_NO_INDIV_BEN_BANLS</code> : Numéro identifiant de manière unique une personne physique qui est un bénéficiaire du service.</li>
<li><code>SURG_DH_DEPAR_USAG_DURG</code> : DateHeure de départ d’un usager de département d’urgence. Cet élément correspond au moment où l’usager quitte physiquement l’urgence. Il correspond donc à la fin de tout traitement dans l’épisode de soins concerné.</li>
<li><code>SURG_COD_DIAGN_MDCAL_CLINQ</code> : Code de diagnostic médical clinique. Pour un système de classification donné, chacun des diagnostics définis selon la terminologie ou la codification de la Classification Internationale des Maladies.</li>
</ul>
<p><strong>Si date_dx_var = ‘admis’</strong> :</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SURG_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>       SURG_DHD_EPISO_SOIN_DURG <span class="kw">as</span> DATE_DX</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_EPISO_SOIN_DURG_CM</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SURG_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SURG_DHD_EPISO_SOIN_DURG <span class="kw">between</span> <span class="fu">To_Date</span>(<span class="st">&#39;debut&#39;</span>) <span class="kw">and</span> <span class="fu">To_Date</span>(<span class="st">&#39;fin&#39;</span>);</span></code></pre></div>
<p><strong>Si date_dx_var = ‘depar’</strong> :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SURG_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>       SURG_DH_DEPAR_USAG_DURG <span class="kw">as</span> DATE_DX</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> RES_SSS.V_EPISO_SOIN_DURG_CM</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SURG_COD_DIAGN_MDCAL_CLINQ <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SURG_DH_DEPAR_USAG_DURG <span class="kw">between</span> <span class="fu">To_Date</span>(<span class="st">&#39;debut&#39;</span>) <span class="kw">and</span> <span class="fu">To_Date</span>(<span class="st">&#39;fin&#39;</span>);</span></code></pre></div>
</div>
<div id="i_smod_serv_md_cm" class="section level2" number="4.4">
<h2 number="4.4"><span class="header-section-number">4.4</span> I_SMOD_SERV_MD_CM</h2>
<p>Cette vue retourne différentes informations se rapportant aux Services rendus à l’acte par des médecins.</p>
<ul>
<li><code>SMOD_NO_INDIV_BEN_BANLS</code> : Numéro identifiant de manière unique une personne physique qui est un bénéficiaire du service.</li>
<li><code>SMOD_DAT_SERV</code> : Date à laquelle l’acte a été posé ou date à laquelle le service a été rendu par le dispensateur.</li>
<li><code>SMOD_COD_DIAGN_PRIMR</code> : Code de diagnostic médical clinique. Pour un système de classification donné, chacun des diagnostics définis selon la terminologie ou la codification de la Classification Internationale des Maladies.</li>
<li><code>SMOD_COD_STA_DECIS</code> : Code de statut de décision.
<ul>
<li><code>PAY</code> : Payé.</li>
</ul></li>
</ul>
<div class="sourceCode" id="cb14"><pre class="sourceCode sql"><code class="sourceCode sql"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="kw">select</span> SMOD_NO_INDIV_BEN_BANLS <span class="kw">as</span> <span class="kw">ID</span>,</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>       SMOD_DAT_SERV <span class="kw">as</span> DATE_DX</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="kw">from</span> PROD.I_SMOD_SERV_MD_C</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a><span class="kw">where</span> SMOD_COD_DIAGN_PRIMR <span class="kw">like</span> <span class="kw">any</span> (<span class="op">..</span>.)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SMOD_COD_STA_DECIS <span class="op">=</span> <span class="st">&#39;PAY&#39;</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>    <span class="kw">and</span> SMOD_DAT_SERV <span class="kw">between</span> <span class="st">&#39;debut&#39;</span> <span class="kw">and</span> <span class="st">&#39;fin&#39;</span>;</span></code></pre></div>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
</div>
<div id="filtrer-les-diagnostics-incohérents" class="section level1" number="5">
<h1 number="5"><span class="header-section-number">5</span> Filtrer les diagnostics <em>incohérents</em></h1>
<p><strong>Rappel dates de références</strong></p>
<pre><code>#&gt;    ID DATE_INDEX
#&gt; 1:  1 2020-01-01
#&gt; 2:  2 2020-12-31
#&gt; 3:  3 2020-02-14</code></pre>
<p>Considérant que :</p>
<ol style="list-style-type: decimal">
<li>Les dates de références sont comprises entre le 2020-01-01 et le 2020-12-31.</li>
<li><code>lookup=2</code> ans.</li>
<li>Au moins un élément de <code>confirm_sourc</code> égale 2.</li>
</ol>
<p>on va donc extraire tous les codes provenant de <code>Dx_table</code> entre le 2016-01-02 et le 2020-12-31 pour chaque individu.</p>
<blockquote>
<p>[{<code>min(DATE_INDEX)</code><span class="math inline">\(-\)</span><code>lookup</code><span class="math inline">\(-\)</span><code>n2</code>}; {<code>max(DATE_INDEX)</code>}]<br />
[{2020-01-01<span class="math inline">\(-2\)</span>ans<span class="math inline">\(-730\)</span>jours}; {2020-12-31}]<br />
[2016-01-02; 2020-12-31]</p>
</blockquote>
<p>Soustraire <code>n2</code> est important, car une date ayant comme valeur 2018-01-01 pourrait être confirmée par une autre date qui la précède ayant comme valeur</p>
<blockquote>
<p>[{2018-01-01<span class="math inline">\(-\)</span><code>n2</code>}; {2018-01-01<span class="math inline">\(-\)</span><code>n1</code>}]<br />
[2016-01-02; 2017-12-02].</p>
</blockquote>
<p>Cette extraction implique qu’un individu ayant une date de référence le 2020-01-01 pourrait avoir des dates de diagnostics comprises entre le 2020-01-01 et le 2020-12-31. Puisqu’on cherche des dates antérieures à la date de référence, les dates supérieures à 2020-01-01 doivent être exclues de l’analyse. De la même manière, un individu ayant une date de référence le 2020-12-31 pourrait avoir des dates inférieures à <code>2020-12-31</code><span class="math inline">\(-2\)</span><code>ans</code><span class="math inline">\(-730\)</span><code>jours</code>.</p>
<p>Puisque les dates inférieures à <code>DATE_INDEX</code><span class="math inline">\(-\)</span><code>lookup</code> servent uniquement à confirmer un autre diagnostic, les diagnostics où <code>confirm_sourc</code> égalent 1 et où la date est plus petite que <code>DATE_INDEX</code><span class="math inline">\(-\)</span><code>lookup</code> ne seront pas utilisés. Ils seront donc supprimés de la table d’analyse.</p>
<p style="margin-bottom:1cm">
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID DATE_INDEX
#&gt; 1:  1 2020-01-01
#&gt; 2:  2 2020-12-31
#&gt; 3:  3 2020-02-14</code></pre>
<p><strong>DIAGNOSTICS</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN  SOURCE
#&gt; 1:  1 2017-07-13   hyp MEDECHO
#&gt; 2:  1 2017-08-15   hyp    BDCU
#&gt; 3:  1 2017-10-02   hyp    SMOD
#&gt; 4:  1 2018-06-15   hyp MEDECHO
#&gt; 5:  1 2020-07-13   hyp    BDCU
#&gt; 6:  2 2016-11-23  diab    BDCU
#&gt; 7:  2 2016-12-15  diab    SMOD
#&gt; 8:  2 2019-01-17  diab MEDECHO</code></pre>
<ol style="list-style-type: decimal">
<li>La ligne 1 sera supprimée, car <code>confirm_sourc=list(MEDECHO=1)</code> et <code>DATE_DX</code>&lt;<code>DATE_INDEX</code><span class="math inline">\(-\)</span><code>lookup</code>.</li>
<li>La ligne 5 sera supprimée, car <code>DATE_DX</code>&gt;<code>DATE_INDEX</code>.</li>
<li>Les lignes 6 et 7 seront supprimées, car <code>DATE_DX</code>&lt;<code>DATE_INDEX</code><span class="math inline">\(-\)</span><code>lookup</code><span class="math inline">\(-\)</span><code>n2</code>.</li>
<li>ID#3 est temporairement exclu de l’analyse, car il n’y a pas de diagnostics à analyser.</li>
</ol>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2017-08-15   hyp    BDCU 2020-01-01
#&gt; 2:  1 2017-10-02   hyp    SMOD 2020-01-01
#&gt; 3:  1 2018-06-15   hyp MEDECHO 2020-01-01
#&gt; 4:  2 2019-01-17  diab MEDECHO 2020-12-31</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="exclusions-cas-obstétriques-obstetric_exclutrue" class="section level1" number="6">
<h1 number="6"><span class="header-section-number">6</span> Exclusions Cas Obstétriques (<code>obstetric_exclu=TRUE</code>)</h1>
<p>Un diagnostic de diabète (<code>diab</code>, <code>diabwc</code>) ou d’hypertension (<code>hyp</code>) enregistré au fichier des hospitalisations à l’intérieur d’une période de 120 jours avant ou de 180 jours après un enregistrement relié à une grossesse ou à un accouchement est considéré comme un diagnostic de type gestationnel. Ce diagnostic est alors supprimé si <code>obstetric_exclu=TRUE</code>.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DATE_DX  DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2019-01-01    hyp MEDECHO 2020-01-01
#&gt; 2:  2 2019-01-01   diab    BDCU 2020-01-01
#&gt; 3:  3 2019-01-01 diabwc    SMOD 2020-01-01
#&gt; 4:  4 2019-01-01   diab MEDECHO 2020-01-01</code></pre>
<p><strong>DX OBSTETRIC</strong></p>
<pre><code>#&gt;    ID    DATE_DX     DIAGN  SOURCE
#&gt; 1:  1 2018-07-05 obstetric MEDECHO
#&gt; 2:  2 2019-05-01 obstetric    BDCU
#&gt; 3:  3 2018-07-04 obstetric    SMOD
#&gt; 4:  3 2019-05-02 obstetric    SMOD</code></pre>
<p>Pour qu’un diagnostic le 2019-01-01 soit conservé, il ne faut pas qu’il y ait de cas gestationnel 180 jours avant ou 120 jours après.</p>
<blockquote>
<p>[{2019-01-01<span class="math inline">\(-180\)</span>jours}; {2019-01-01<span class="math inline">\(+120\)</span>jours}]<br />
[2018-07-05; 2019-05-01]</p>
</blockquote>
<ol style="list-style-type: decimal">
<li>ID#1 sera supprimé, car sur la limite 2018-07-05.</li>
<li>ID#2 sera supprimé, car sur la limite 2019-05-01.</li>
<li>ID#3 conservé, dates aux extrêmes 2018-07-04 et 2019-05-02.</li>
<li>ID#4 conservé, car pas de cas gestationnel.</li>
</ol>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID    DATE_DX  DIAGN  SOURCE DATE_INDEX
#&gt; 1:  3 2019-01-01 diabwc    SMOD 2020-01-01
#&gt; 2:  4 2019-01-01   diab MEDECHO 2020-01-01</code></pre>
<div id="codes-de-diagnostics-de-type-gestationnel" class="section level2" number="6.1">
<h2 number="6.1"><span class="header-section-number">6.1</span> Codes de diagnostics de type gestationnel</h2>
<p>Les arguments <code>CIM</code> et <code>dt_sourc</code> sont utilisés de la même manière que décrit précédemment.</p>
<pre><code>#&gt; $CIM9
#&gt;  [1] &quot;641%&quot; &quot;642%&quot; &quot;643%&quot; &quot;644%&quot; &quot;645%&quot; &quot;646%&quot; &quot;647%&quot; &quot;648%&quot; &quot;649%&quot; &quot;650%&quot; &quot;651%&quot; &quot;652%&quot; &quot;653%&quot; &quot;654%&quot; &quot;655%&quot; &quot;656%&quot;
#&gt; [17] &quot;657%&quot; &quot;658%&quot; &quot;659%&quot; &quot;660%&quot; &quot;661%&quot; &quot;662%&quot; &quot;663%&quot; &quot;664%&quot; &quot;665%&quot; &quot;666%&quot; &quot;667%&quot; &quot;668%&quot; &quot;669%&quot; &quot;670%&quot; &quot;671%&quot; &quot;672%&quot;
#&gt; [33] &quot;673%&quot; &quot;674%&quot; &quot;675%&quot; &quot;676%&quot; &quot;V27%&quot;
#&gt; 
#&gt; $CIM10
#&gt;  [1] &quot;O1%&quot;  &quot;O21%&quot; &quot;O22%&quot; &quot;O23%&quot; &quot;O24%&quot; &quot;O25%&quot; &quot;O26%&quot; &quot;O27%&quot; &quot;O28%&quot; &quot;O29%&quot; &quot;O30%&quot; &quot;O31%&quot; &quot;O32%&quot; &quot;O33%&quot; &quot;O34%&quot; &quot;O35%&quot;
#&gt; [17] &quot;O36%&quot; &quot;O37%&quot; &quot;O38%&quot; &quot;O39%&quot; &quot;O40%&quot; &quot;O41%&quot; &quot;O42%&quot; &quot;O43%&quot; &quot;O44%&quot; &quot;O45%&quot; &quot;O46%&quot; &quot;O47%&quot; &quot;O48%&quot; &quot;O49%&quot; &quot;O50%&quot; &quot;O51%&quot;
#&gt; [33] &quot;O52%&quot; &quot;O53%&quot; &quot;O54%&quot; &quot;O55%&quot; &quot;O56%&quot; &quot;O57%&quot; &quot;O58%&quot; &quot;O59%&quot; &quot;O60%&quot; &quot;O61%&quot; &quot;O62%&quot; &quot;O63%&quot; &quot;O64%&quot; &quot;O65%&quot; &quot;O66%&quot; &quot;O67%&quot;
#&gt; [49] &quot;O68%&quot; &quot;O69%&quot; &quot;O70%&quot; &quot;O71%&quot; &quot;O72%&quot; &quot;O73%&quot; &quot;O74%&quot; &quot;O75%&quot; &quot;O76%&quot; &quot;O77%&quot; &quot;O78%&quot; &quot;O79%&quot; &quot;O80%&quot; &quot;O81%&quot; &quot;O82%&quot; &quot;O83%&quot;
#&gt; [65] &quot;O84%&quot; &quot;O85%&quot; &quot;O86%&quot; &quot;O87%&quot; &quot;O88%&quot; &quot;O89%&quot; &quot;O90%&quot; &quot;O91%&quot; &quot;O92%&quot; &quot;O93%&quot; &quot;O94%&quot; &quot;O95%&quot; &quot;O98%&quot; &quot;O99%&quot; &quot;Z37%&quot;</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
</div>
<div id="priorisation-des-sources" class="section level1" number="7">
<h1 number="7"><span class="header-section-number">7</span> Priorisation des sources</h1>
<p>Si différentes sources indiquent une même date pour un même diagnostic, on priorise la source où <code>confirm_sourc</code> égale 1, puis 2.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>confirm_sourc <span class="ot">=</span> <span class="fu">list</span>(<span class="at">MEDECHO =</span> <span class="dv">1</span>, <span class="at">BDCU =</span> <span class="dv">2</span>, <span class="at">SMOD =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2019-06-06  diab    SMOD 2020-01-01
#&gt; 2:  1 2019-06-06  diab    BDCU 2020-01-01
#&gt; 3:  2 2019-06-06   hyp    BDCU 2020-01-01
#&gt; 4:  2 2019-06-06   hyp    SMOD 2020-01-01
#&gt; 5:  2 2019-06-06   hyp MEDECHO 2020-01-01</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2019-06-06  diab    BDCU 2020-01-01
#&gt; 2:  1 2019-06-06  diab    SMOD 2020-01-01
#&gt; 3:  2 2019-06-06   hyp MEDECHO 2020-01-01
#&gt; 4:  2 2019-06-06   hyp    BDCU 2020-01-01
#&gt; 5:  2 2019-06-06   hyp    SMOD 2020-01-01</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="dx-date_dx---lookup" class="section level1" number="8">
<h1 number="8"><span class="header-section-number">8</span> Dx &lt; DATE_DX <span class="math inline">\(-\)</span> lookup</h1>
<p>La table d’analyse peut contenir des dates qui sont inférieures à la période d’étude. Si la période d’étude est entre le 2018-01-01 et le 2019-12-31, on ne veut pas qu’une date en 2016 ou 2017 confirme une autre date de cette même période. On veut plutôt que les dates en 2018 ou 2019 confirment celles en 2016 ou 2017.<br />
On va donc vérifier quelles sont les dates en 2018 ou 2019 (période d’étude) qui confirment une date en 2016 ou 2017 (avant la période d’étude). Dans un but d’optimisation, seule la première date confirmée sera conservée.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;     ID    DATE_DX DIAGN SOURCE DATE_INDEX
#&gt;  1:  1 2016-01-02  diab   SMOD 2020-01-01
#&gt;  2:  1 2017-12-27  diab   SMOD 2020-01-01
#&gt;  3:  1 2018-01-01  diab   BDCU 2020-01-01
#&gt;  4:  1 2019-01-01  diab   SMOD 2020-01-01
#&gt;  5:  2 2017-12-25  diab   SMOD 2020-01-04
#&gt;  6:  2 2018-01-02  diab   BDCU 2020-01-05
#&gt;  7:  2 2018-12-01  diab   SMOD 2020-01-06
#&gt;  8:  3 2017-12-15  diab   BDCU 2020-12-31
#&gt;  9:  3 2018-01-10  diab   BDCU 2020-12-31
#&gt; 10:  3 2020-01-09  diab   SMOD 2020-12-31</code></pre>
<p>Sachant que <code>n1=30</code> et <code>n2=730</code></p>
<ol style="list-style-type: decimal">
<li>Ligne2 confirme Ligne1, mais les deux précèdent la période d’étude.</li>
<li>Ligne3 confirme Ligne1</li>
<li>Ligne4 confirme Ligne2, mais on conservera seulement Ligne1.</li>
<li>Ligne7 confirme Ligne5</li>
<li>Ligne9 et Ligne10 ne confirment pas Ligne8.</li>
</ol>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN SOURCE DATE_INDEX
#&gt; 1:  1 2016-01-02  diab   SMOD 2020-01-01
#&gt; 2:  1 2018-01-01  diab   BDCU 2020-01-01
#&gt; 3:  1 2019-01-01  diab   SMOD 2020-01-01
#&gt; 4:  2 2017-12-25  diab   SMOD 2020-01-04
#&gt; 5:  2 2018-12-01  diab   SMOD 2020-01-06
#&gt; 6:  3 2018-01-10  diab   BDCU 2020-12-31
#&gt; 7:  3 2020-01-09  diab   SMOD 2020-12-31</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="confirmation-des-diagnostics" class="section level1" number="9">
<h1 number="9"><span class="header-section-number">9</span> Confirmation des diagnostics</h1>
<p>Si <code>keep_confirm_data=TRUE</code>, la table de confirmation est accessible via les attributs (<code>attributes()</code>).</p>
<div id="medecho-1" class="section level2" number="9.1">
<h2 number="9.1"><span class="header-section-number">9.1</span> MEDECHO (1)</h2>
<p>Les sources ayant <code>confirm_sourc=1</code> sont utilisées directement.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DATE_DX DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2019-01-01  diab MEDECHO 2020-01-01
#&gt; 2:  1 2019-06-06  diab    SMOD 2020-01-01</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID DIAGN   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:  1  diab 2019-01-01    MEDECHO 2019-01-01     MEDECHO</code></pre>
</div>
<div id="bdcu-et-smod-2" class="section level2" number="9.2">
<h2 number="9.2"><span class="header-section-number">9.2</span> BDCU et SMOD (2)</h2>
<p>Les sources ayant <code>confirm_sourc=2</code> doivent être confirmées.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DATE_DX  DIAGN SOURCE DATE_INDEX
#&gt; 1:  1 2019-01-01   diab   BDCU 2020-01-01
#&gt; 2:  1 2019-01-15   diab   SMOD 2020-01-01
#&gt; 3:  1 2019-02-10   diab   SMOD 2020-01-01
#&gt; 4:  2 2019-02-02    hyp   BDCU 2020-06-06
#&gt; 5:  2 2019-12-31    hyp   BDCU 2020-06-06
#&gt; 6:  3 2018-01-01 diabwc   SMOD 2020-12-31
#&gt; 7:  3 2020-02-01 diabwc   SMOD 2020-12-31
#&gt; 8:  3 2020-07-20 diabwc   SMOD 2020-12-31
#&gt; 9:  4 2020-01-01    hyp   SMOD 2020-06-06</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID  DIAGN   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:  1   diab 2019-01-01       BDCU 2019-02-10        SMOD
#&gt; 2:  2    hyp 2019-02-02       BDCU 2019-12-31        BDCU
#&gt; 3:  3 diabwc 2020-02-01       SMOD 2020-07-20        SMOD</code></pre>
</div>
<div id="medecho-1-bdcu-2-et-smod-2" class="section level2" number="9.3">
<h2 number="9.3"><span class="header-section-number">9.3</span> MEDECHO (1), BDCU (2) et SMOD (2)</h2>
<p>MEDECHO peut confirmer la date d’un BDCU ou d’un SMOD.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DATE_DX  DIAGN  SOURCE DATE_INDEX
#&gt; 1:  1 2019-01-01   diab    BDCU 2020-01-01
#&gt; 2:  1 2019-01-05   diab MEDECHO 2020-01-01
#&gt; 3:  2 2019-02-02    hyp    BDCU 2020-06-06
#&gt; 4:  2 2019-02-17    hyp    BDCU 2020-06-06
#&gt; 5:  2 2019-02-18    hyp MEDECHO 2020-12-31
#&gt; 6:  3 2019-03-03 diabwc    SMOD 2020-12-31
#&gt; 7:  3 2020-04-04 diabwc MEDECHO 2020-12-31</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID  DIAGN   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:  1   diab 2019-01-01       BDCU 2019-01-05     MEDECHO
#&gt; 2:  2    hyp 2019-02-17       BDCU 2019-02-18     MEDECHO
#&gt; 3:  3 diabwc 2019-03-03       SMOD 2020-04-04     MEDECHO</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
</div>
<div id="poids-des-diagnostics" class="section level1" number="10">
<h1 number="10"><span class="header-section-number">10</span> Poids des diagnostics</h1>
<p>L’argument <code>scores</code> permet de choisir la table des poids des diagnostics à utiliser.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID    DIAGN   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:  1     aids 2019-01-01       BDCU 2019-01-05     MEDECHO
#&gt; 2:  2 metacanc 2019-02-17       BDCU 2019-02-18     MEDECHO
#&gt; 3:  3      fed 2019-03-03       SMOD 2020-04-04     MEDECHO</code></pre>
<p><strong>CCI_INSPQ_2018_CIM10</strong></p>
<pre><code>#&gt;                                          DIAGN DIAGN_CODE POIDS
#&gt;  1:                                   AIDS/HIV       aids     3
#&gt;  2:                              Alcohol abuse    alcohol     1
#&gt;  3:                          Blood loss anemia      blane     0
#&gt;  4:               Any tumor without metastasis       canc     3
#&gt;  5:                        Cardiac arrhythmias      carit     1
#&gt;  6:                    Cerebrovascular disease       cevd     2
#&gt;  7:                   Congestive heart failure        chf     2
#&gt;  8:                               Coagulopathy       coag     2
#&gt;  9:                  Chronic pulmonary disease       copd     1
#&gt; 10:                          Deficiency anemia       dane     0
#&gt; 11:                                   Dementia   dementia     2
#&gt; 12:                                 Depression      depre     0
#&gt; 13:                      Diabetes, complicated       diab     0
#&gt; 14:                    Diabetes, uncomplicated     diabwc     0
#&gt; 15:                                 Drug abuse       drug     0
#&gt; 16:            Fluid and electrolyte disorders        fed     2
#&gt; 17:                               Hypertension        hyp     0
#&gt; 18:                             Hypothyroidism    hypothy     0
#&gt; 19:                              Liver disease         ld     2
#&gt; 20:                          Metastatic cancer   metacanc     5
#&gt; 21:                      Myocardial infarction         mi     2
#&gt; 22:                     Neurological disorders         nd     2
#&gt; 23:                                    Obesity       obes     0
#&gt; 24:                                  Paralysis       para     1
#&gt; 25:            Pulmonary circulation disorders        pcd     1
#&gt; 26:                                  Psychoses     psycho     0
#&gt; 27:              Peripheral vascular disorders        pvd     0
#&gt; 28:                              Renal disease       rend     1
#&gt; 29: Rheumatoid arth./collagen vascular disease     rheumd     0
#&gt; 30:                              Ulcer disease         ud     0
#&gt; 31:                           Valvular disease       valv     0
#&gt; 32:                                Weight loss      wloss     1
#&gt;                                          DIAGN DIAGN_CODE POIDS</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;       DIAGN POIDS ID   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:     aids     3  1 2019-01-01       BDCU 2019-01-05     MEDECHO
#&gt; 2: metacanc     5  2 2019-02-17       BDCU 2019-02-18     MEDECHO
#&gt; 3:      fed     2  3 2019-03-03       SMOD 2020-04-04     MEDECHO</code></pre>
<p>Arrangement de la table pour avoir une colonne par diagnostic</p>
<pre><code>#&gt;    ID aids fed metacanc
#&gt; 1:  1    3   0        0
#&gt; 2:  2    0   0        5
#&gt; 3:  3    0   2        0</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="nombre-de-diagnostics-dx" class="section level1" number="11">
<h1 number="11"><span class="header-section-number">11</span> Nombre de diagnostics (Dx)</h1>
<p>Compter le nombre de diagnostics peut être utile dans le cas où il y aurait des poids de zéro (0). Permet de différencier deux individus où l’un a un <em>score</em> de zéro parce qu’il n’a pas de diagnostics et l’autre parce que les diagnostics qu’il a ont des poids de zéro.<br />
La colonne <code>nDx</code> sera ajoutée à la fin complètement, après le calcul des <em>scores</em>.</p>
<p><strong>AVANT le calcul du nombre de Dx</strong></p>
<pre><code>#&gt;       DIAGN POIDS ID   DATE_REP SOURCE_REP  DATE_CONF SOURCE_CONF
#&gt; 1:     aids     3  1 2019-01-01    MEDECHO 2019-01-01    MED_ECHO
#&gt; 2: metacanc     5  1 2019-02-17       BDCU 2019-02-18     MEDECHO
#&gt; 3:      fed     2  1 2019-03-03       SMOD 2020-04-04        SMOD
#&gt; 4: metacanc     5  2 2019-02-15       BDCU 2019-12-31        SMOD</code></pre>
<p><strong>APRÈS avoir calculé le nombre de Dx</strong></p>
<pre><code>#&gt;    ID nDx
#&gt; 1:  1   3
#&gt; 2:  2   1</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="calcul-des-scores" class="section level1" number="12">
<h1 number="12"><span class="header-section-number">12</span> Calcul des <em>scores</em></h1>
<p>Ajout de tous les diagnostics présents dans <code>Dx_table=&#39;Combine_Dx_CCI_INSPQ18&#39;</code> en excluant <code>exclu_diagn=c(&#39;drug&#39;,&#39;ld&#39;)</code>.<br />
Puisque la table des codes de diagnostics utilisée est <code>Combine_Dx_CCI_INSPQ18</code>, calcul du <em>score</em> pour <code>Charlson_Dx_CCI_INSPQ18</code>, <code>Elixhauser_Dx_CCI_INSPQ18</code> et les deux combinés.<br />
Le <em>score</em> est la somme des poids de chaque diagnostic.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID aids canc carit metacanc mi pvd wloss
#&gt; 1:  1    3    3     1        5  2   0     1</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID Combine_Dx_CCI_INSPQ18 Charlson_Dx_CCI_INSPQ18 Elixhauser_Dx_CCI_INSPQ18 aids alcohol blane canc carit cevd
#&gt; 1:  1                     15                      13                        13    3       0     0    3     1    0
#&gt;    chf coag copd dane dementia depre diab diabwc fed hyp hypothy metacanc mi nd obes para pcd psycho pvd rend rheumd
#&gt; 1:   0    0    0    0        0     0    0      0   0   0       0        5  2  0    0    0   0      0   0    0      0
#&gt;    ud valv wloss
#&gt; 1:  0    0     1</code></pre>
<p style="page-break-before: always">
<p style="margin-bottom:3cm">
</div>
<div id="ajouts-des-individus-manquants" class="section level1" number="13">
<h1 number="13"><span class="header-section-number">13</span> Ajouts des individus manquants</h1>
<p>Les individus de la cohorte d’étude qui ne sont pas dans le tableau d’analyse ont en fait un <em>score</em> de zéro. Ces individus sont manuellement ajoutés.</p>
<p><strong>AVANT</strong></p>
<pre><code>#&gt;    ID nDx Combine_Dx_CCI_INSPQ18 Charlson_Dx_CCI_INSPQ18 Elixhauser_Dx_CCI_INSPQ18 aids alcohol blane canc carit
#&gt; 1:  1   6                     15                      13                        13    3       0     0    3     1
#&gt;    cevd chf coag copd dane dementia depre diab diabwc fed hyp hypothy metacanc mi nd obes para pcd psycho pvd rend
#&gt; 1:    0   0    0    0    0        0     0    0      0   0   0       0        5  2  0    0    0   0      0   0    0
#&gt;    rheumd ud valv wloss
#&gt; 1:      0  0    0     1</code></pre>
<p><strong>APRÈS</strong></p>
<pre><code>#&gt;    ID nDx Combine_Dx_CCI_INSPQ18 Charlson_Dx_CCI_INSPQ18 Elixhauser_Dx_CCI_INSPQ18 aids alcohol blane canc carit
#&gt; 1:  1   6                     15                      13                        13    3       0     0    3     1
#&gt; 2:  2   0                      0                       0                         0    0       0     0    0     0
#&gt; 3:  3   0                      0                       0                         0    0       0     0    0     0
#&gt;    cevd chf coag copd dane dementia depre diab diabwc fed hyp hypothy metacanc mi nd obes para pcd psycho pvd rend
#&gt; 1:    0   0    0    0    0        0     0    0      0   0   0       0        5  2  0    0    0   0      0   0    0
#&gt; 2:    0   0    0    0    0        0     0    0      0   0   0       0        0  0  0    0    0   0      0   0    0
#&gt; 3:    0   0    0    0    0        0     0    0      0   0   0       0        0  0  0    0    0   0      0   0    0
#&gt;    rheumd ud valv wloss
#&gt; 1:      0  0    0     1
#&gt; 2:      0  0    0     0
#&gt; 3:      0  0    0     0</code></pre>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
